<!DOCTYPE HTML>
<html lang="en">
<head>
<!-- Generated by javadoc (17) -->
<title>LayeredBloomFilter (Apache Commons Collections 4.5.0-M2 API)</title>
<meta name="viewport" content="width=device-width, initial-scale=1">
<meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1">
<meta name="description" content="declaration: package: org.apache.commons.collections4.bloomfilter, class: LayeredBloomFilter">
<meta name="generator" content="javadoc/ClassWriterImpl">
<link rel="stylesheet" type="text/css" href="../../../../../stylesheet.css" title="Style">
<link rel="stylesheet" type="text/css" href="../../../../../script-dir/jquery-ui.min.css" title="Style">
<link rel="stylesheet" type="text/css" href="../../../../../jquery-ui.overrides.css" title="Style">
<script type="text/javascript" src="../../../../../script.js"></script>
<script type="text/javascript" src="../../../../../script-dir/jquery-3.6.1.min.js"></script>
<script type="text/javascript" src="../../../../../script-dir/jquery-ui.min.js"></script>
</head>
<body class="class-declaration-page">
<script type="text/javascript">var evenRowColor = "even-row-color";
var oddRowColor = "odd-row-color";
var tableTab = "table-tab";
var activeTableTab = "active-table-tab";
var pathtoroot = "../../../../../";
loadScripts(document, 'script');</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
<div class="flex-box">
<header role="banner" class="flex-header">
<nav role="navigation">
<!-- ========= START OF TOP NAVBAR ======= -->
<div class="top-nav" id="navbar-top">
<div class="skip-nav"><a href="#skip-navbar-top" title="Skip navigation links">Skip navigation links</a></div>
<ul id="navbar-top-firstrow" class="nav-list" title="Navigation">
<li><a href="../../../../../index.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="nav-bar-cell1-rev">Class</li>
<li><a href="class-use/LayeredBloomFilter.html">Use</a></li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../../../index-all.html">Index</a></li>
<li><a href="../../../../../help-doc.html#class">Help</a></li>
</ul>
</div>
<div class="sub-nav">
<div>
<ul class="sub-nav-list">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li><a href="#field-summary">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor-summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method-summary">Method</a></li>
</ul>
<ul class="sub-nav-list">
<li>Detail:&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li><a href="#constructor-detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method-detail">Method</a></li>
</ul>
</div>
<div class="nav-list-search"><label for="search-input">SEARCH:</label>
<input type="text" id="search-input" value="search" disabled="disabled">
<input type="reset" id="reset-button" value="reset" disabled="disabled">
</div>
</div>
<!-- ========= END OF TOP NAVBAR ========= -->
<span class="skip-nav" id="skip-navbar-top"></span></nav>
</header>
<div class="flex-content">
<main role="main">
<!-- ======== START OF CLASS DATA ======== -->
<div class="header">
<div class="sub-title"><span class="package-label-in-type">Package</span>&nbsp;<a href="package-summary.html">org.apache.commons.collections4.bloomfilter</a></div>
<h1 title="Class LayeredBloomFilter" class="title">Class LayeredBloomFilter&lt;T extends <a href="BloomFilter.html" title="interface in org.apache.commons.collections4.bloomfilter">BloomFilter</a>&gt;</h1>
</div>
<div class="inheritance" title="Inheritance Tree"><a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/Object.html" title="class or interface in java.lang" class="external-link">java.lang.Object</a>
<div class="inheritance">org.apache.commons.collections4.bloomfilter.LayeredBloomFilter&lt;T&gt;</div>
</div>
<section class="class-description" id="class-description">
<dl class="notes">
<dt>Type Parameters:</dt>
<dd><code>T</code> - The type of Bloom Filter that is used for the layers.</dd>
</dl>
<dl class="notes">
<dt>All Implemented Interfaces:</dt>
<dd><code><a href="BitMapExtractor.html" title="interface in org.apache.commons.collections4.bloomfilter">BitMapExtractor</a></code>, <code><a href="BloomFilter.html" title="interface in org.apache.commons.collections4.bloomfilter">BloomFilter</a></code>, <code><a href="BloomFilterExtractor.html" title="interface in org.apache.commons.collections4.bloomfilter">BloomFilterExtractor</a></code>, <code><a href="IndexExtractor.html" title="interface in org.apache.commons.collections4.bloomfilter">IndexExtractor</a></code></dd>
</dl>
<hr>
<div class="type-signature"><span class="modifiers">public class </span><span class="element-name"><a href="../../../../../src-html/org/apache/commons/collections4/bloomfilter/LayeredBloomFilter.html#line-65">LayeredBloomFilter</a>&lt;T extends <a href="BloomFilter.html" title="interface in org.apache.commons.collections4.bloomfilter">BloomFilter</a>&gt;</span>
<span class="extends-implements">extends <a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/Object.html" title="class or interface in java.lang" class="external-link">Object</a>
implements <a href="BloomFilter.html" title="interface in org.apache.commons.collections4.bloomfilter">BloomFilter</a>, <a href="BloomFilterExtractor.html" title="interface in org.apache.commons.collections4.bloomfilter">BloomFilterExtractor</a></span></div>
<div class="block">Layered Bloom filters are described in Zhiwang, Cen; Jungang, Xu; Jian, Sun
 (2010), "A multi-layer Bloom filter for duplicated URL detection", Proc. 3rd
 International Conference on Advanced Computer Theory and Engineering (ICACTE
 2010), vol. 1, pp. V1-586-V1-591, doi:10.1109/ICACTE.2010.5578947, ISBN
 978-1-4244-6539-2, S2CID 3108985
 <p>
 In short, Layered Bloom filter contains several bloom filters arranged in
 layers.
 </p>
 <ul>
 <li>When membership in the filter is checked each layer in turn is checked
 and if a match is found <code>true</code> is returned.</li>
 <li>When merging each bloom filter is merged into the newest filter in the
 list of layers.</li>
 <li>When questions of cardinality are asked the cardinality of the union of
 the enclosed Bloom filters is used.</li>
 </ul>
 <p>
 The net result is that the layered Bloom filter can be populated with more
 items than the Shape would indicate and yet still return a false positive
 rate in line with the Shape and not the over population.
 </p>
 <p>
 This implementation uses a LayerManager to handle the manipulation of the
 layers.
 </p>
 <ul>
 <li>Level 0 is the oldest layer and the highest level is the newest.</li>
 <li>There is always at least one enclosed filter.</li>
 <li>The newest filter is the <code>target</code> into which merges are performed.
 <li>Whenever the target is retrieved, or a <code>merge</code> operation is
 performed the code checks if any older layers should be removed, and if so
 removes them. It also checks it a new layer should be added, and if so adds
 it and sets the <code>target</code> before the operation.</li>
 </ul></div>
<dl class="notes">
<dt>Since:</dt>
<dd>4.5</dd>
</dl>
</section>
<section class="summary">
<ul class="summary-list">
<!-- =========== FIELD SUMMARY =========== -->
<li>
<section class="field-summary" id="field-summary">
<h2>Field Summary</h2>
<div class="inherited-list">
<h3 id="fields-inherited-from-class-org.apache.commons.collections4.bloomfilter.BloomFilter">Fields inherited from interface&nbsp;org.apache.commons.collections4.bloomfilter.<a href="BloomFilter.html" title="interface in org.apache.commons.collections4.bloomfilter">BloomFilter</a></h3>
<code><a href="BloomFilter.html#SPARSE">SPARSE</a></code></div>
</section>
</li>
<!-- ======== CONSTRUCTOR SUMMARY ======== -->
<li>
<section class="constructor-summary" id="constructor-summary">
<h2>Constructor Summary</h2>
<div class="caption"><span>Constructors</span></div>
<div class="summary-table two-column-summary">
<div class="table-header col-first">Constructor</div>
<div class="table-header col-last">Description</div>
<div class="col-constructor-name even-row-color"><code><a href="#%3Cinit%3E(org.apache.commons.collections4.bloomfilter.Shape,org.apache.commons.collections4.bloomfilter.LayerManager)" class="member-name-link">LayeredBloomFilter</a><wbr>(<a href="Shape.html" title="class in org.apache.commons.collections4.bloomfilter">Shape</a>&nbsp;shape,
 <a href="LayerManager.html" title="class in org.apache.commons.collections4.bloomfilter">LayerManager</a>&lt;<a href="LayeredBloomFilter.html" title="type parameter in LayeredBloomFilter">T</a>&gt;&nbsp;layerManager)</code></div>
<div class="col-last even-row-color">
<div class="block">Constructor.</div>
</div>
</div>
</section>
</li>
<!-- ========== METHOD SUMMARY =========== -->
<li>
<section class="method-summary" id="method-summary">
<h2>Method Summary</h2>
<div id="method-summary-table">
<div class="table-tabs" role="tablist" aria-orientation="horizontal"><button id="method-summary-table-tab0" role="tab" aria-selected="true" aria-controls="method-summary-table.tabpanel" tabindex="0" onkeydown="switchTab(event)" onclick="show('method-summary-table', 'method-summary-table', 3)" class="active-table-tab">All Methods</button><button id="method-summary-table-tab2" role="tab" aria-selected="false" aria-controls="method-summary-table.tabpanel" tabindex="-1" onkeydown="switchTab(event)" onclick="show('method-summary-table', 'method-summary-table-tab2', 3)" class="table-tab">Instance Methods</button><button id="method-summary-table-tab4" role="tab" aria-selected="false" aria-controls="method-summary-table.tabpanel" tabindex="-1" onkeydown="switchTab(event)" onclick="show('method-summary-table', 'method-summary-table-tab4', 3)" class="table-tab">Concrete Methods</button></div>
<div id="method-summary-table.tabpanel" role="tabpanel">
<div class="summary-table three-column-summary" aria-labelledby="method-summary-table-tab0">
<div class="table-header col-first">Modifier and Type</div>
<div class="table-header col-second">Method</div>
<div class="table-header col-last">Description</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>int</code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#cardinality()" class="member-name-link">cardinality</a>()</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Gets the cardinality (number of enabled bits) of this Bloom filter.</div>
</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>int</code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#characteristics()" class="member-name-link">characteristics</a>()</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Returns the characteristics of the filter.</div>
</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>void</code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#cleanup()" class="member-name-link">cleanup</a>()</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Forces the execution of the cleanup Consumer that was provided when the associated LayerManager
 was built.</div>
</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>final void</code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#clear()" class="member-name-link">clear</a>()</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Resets the filter to its initial, unpopulated state.</div>
</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>boolean</code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#contains(org.apache.commons.collections4.bloomfilter.BitMapExtractor)" class="member-name-link">contains</a><wbr>(<a href="BitMapExtractor.html" title="interface in org.apache.commons.collections4.bloomfilter">BitMapExtractor</a>&nbsp;bitMapExtractor)</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Returns <code>true</code> if this filter contains the bits specified in the bit maps produced by the
 bitMapExtractor.</div>
</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>boolean</code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#contains(org.apache.commons.collections4.bloomfilter.BloomFilter)" class="member-name-link">contains</a><wbr>(<a href="BloomFilter.html" title="interface in org.apache.commons.collections4.bloomfilter">BloomFilter</a>&nbsp;other)</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Returns <code>true</code> if this any layer contained by this filter contains the
 specified filter.</div>
</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>boolean</code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#contains(org.apache.commons.collections4.bloomfilter.BloomFilterExtractor)" class="member-name-link">contains</a><wbr>(<a href="BloomFilterExtractor.html" title="interface in org.apache.commons.collections4.bloomfilter">BloomFilterExtractor</a>&nbsp;bloomFilterExtractor)</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Returns <code>true</code> if each filter within the <code>bloomFilterExtractor</code> exits within
 this filter.</div>
</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>boolean</code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#contains(org.apache.commons.collections4.bloomfilter.Hasher)" class="member-name-link">contains</a><wbr>(<a href="Hasher.html" title="interface in org.apache.commons.collections4.bloomfilter">Hasher</a>&nbsp;hasher)</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Returns <code>true</code> if this filter contains the bits specified in the hasher.</div>
</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>boolean</code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#contains(org.apache.commons.collections4.bloomfilter.IndexExtractor)" class="member-name-link">contains</a><wbr>(<a href="IndexExtractor.html" title="interface in org.apache.commons.collections4.bloomfilter">IndexExtractor</a>&nbsp;indexExtractor)</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Returns <code>true</code> if this filter contains the indices specified IndexExtractor.</div>
</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="LayeredBloomFilter.html" title="class in org.apache.commons.collections4.bloomfilter">LayeredBloomFilter</a>&lt;<a href="LayeredBloomFilter.html" title="type parameter in LayeredBloomFilter">T</a>&gt;</code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#copy()" class="member-name-link">copy</a>()</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Creates a new instance of the BloomFilter with the same properties as the current one.</div>
</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>int</code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#estimateN()" class="member-name-link">estimateN</a>()</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Estimates the number of items in the Bloom filter.</div>
</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>int</code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#estimateUnion(org.apache.commons.collections4.bloomfilter.BloomFilter)" class="member-name-link">estimateUnion</a><wbr>(<a href="BloomFilter.html" title="interface in org.apache.commons.collections4.bloomfilter">BloomFilter</a>&nbsp;other)</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Estimates the number of items in the union of this Bloom filter with the other bloom filter.</div>
</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>int[]</code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#find(org.apache.commons.collections4.bloomfilter.BitMapExtractor)" class="member-name-link">find</a><wbr>(<a href="BitMapExtractor.html" title="interface in org.apache.commons.collections4.bloomfilter">BitMapExtractor</a>&nbsp;bitMapExtractor)</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Finds the layers in which the BitMapExtractor is found.</div>
</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>int[]</code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#find(org.apache.commons.collections4.bloomfilter.BloomFilter)" class="member-name-link">find</a><wbr>(<a href="BloomFilter.html" title="interface in org.apache.commons.collections4.bloomfilter">BloomFilter</a>&nbsp;bf)</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Finds the layers in which the Bloom filter is found.</div>
</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>int[]</code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#find(org.apache.commons.collections4.bloomfilter.Hasher)" class="member-name-link">find</a><wbr>(<a href="Hasher.html" title="interface in org.apache.commons.collections4.bloomfilter">Hasher</a>&nbsp;hasher)</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Finds the layers in which the Hasher is found.</div>
</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>int[]</code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#find(org.apache.commons.collections4.bloomfilter.IndexExtractor)" class="member-name-link">find</a><wbr>(<a href="IndexExtractor.html" title="interface in org.apache.commons.collections4.bloomfilter">IndexExtractor</a>&nbsp;indexExtractor)</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Finds the layers in which the IndexExtractor is found.</div>
</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="BloomFilter.html" title="interface in org.apache.commons.collections4.bloomfilter">BloomFilter</a></code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#flatten()" class="member-name-link">flatten</a>()</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Create a standard (non-layered) Bloom filter by merging all of the layers.</div>
</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="LayeredBloomFilter.html" title="type parameter in LayeredBloomFilter">T</a></code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#get(int)" class="member-name-link">get</a><wbr>(int&nbsp;depth)</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Gets the Bloom filter at the specified depth</div>
</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>final int</code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#getDepth()" class="member-name-link">getDepth</a>()</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Gets the depth of the deepest layer.</div>
</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>final <a href="Shape.html" title="class in org.apache.commons.collections4.bloomfilter">Shape</a></code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#getShape()" class="member-name-link">getShape</a>()</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Gets the shape that was used when the filter was built.</div>
</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>boolean</code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#isEmpty()" class="member-name-link">isEmpty</a>()</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Determines if all the bits are off.</div>
</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>boolean</code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#merge(org.apache.commons.collections4.bloomfilter.BitMapExtractor)" class="member-name-link">merge</a><wbr>(<a href="BitMapExtractor.html" title="interface in org.apache.commons.collections4.bloomfilter">BitMapExtractor</a>&nbsp;bitMapExtractor)</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Merges the specified hasher into this Bloom filter.</div>
</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>boolean</code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#merge(org.apache.commons.collections4.bloomfilter.BloomFilter)" class="member-name-link">merge</a><wbr>(<a href="BloomFilter.html" title="interface in org.apache.commons.collections4.bloomfilter">BloomFilter</a>&nbsp;bf)</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Merges the specified Bloom filter into this Bloom filter.</div>
</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>boolean</code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#merge(org.apache.commons.collections4.bloomfilter.IndexExtractor)" class="member-name-link">merge</a><wbr>(<a href="IndexExtractor.html" title="interface in org.apache.commons.collections4.bloomfilter">IndexExtractor</a>&nbsp;indexExtractor)</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Merges the specified IndexExtractor into this Bloom filter.</div>
</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>void</code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#next()" class="member-name-link">next</a>()</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Forces and advance to the next layer.</div>
</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>boolean</code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#processBitMaps(java.util.function.LongPredicate)" class="member-name-link">processBitMaps</a><wbr>(<a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/util/function/LongPredicate.html" title="class or interface in java.util.function" class="external-link">LongPredicate</a>&nbsp;predicate)</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Each bit map is passed to the predicate in order.</div>
</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>final boolean</code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#processBloomFilters(java.util.function.Predicate)" class="member-name-link">processBloomFilters</a><wbr>(<a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/util/function/Predicate.html" title="class or interface in java.util.function" class="external-link">Predicate</a>&lt;<a href="BloomFilter.html" title="interface in org.apache.commons.collections4.bloomfilter">BloomFilter</a>&gt;&nbsp;bloomFilterPredicate)</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Processes the Bloom filters in depth order with the most recent filters
 first.</div>
</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>boolean</code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#processIndices(java.util.function.IntPredicate)" class="member-name-link">processIndices</a><wbr>(<a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/util/function/IntPredicate.html" title="class or interface in java.util.function" class="external-link">IntPredicate</a>&nbsp;predicate)</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Each index is passed to the predicate.</div>
</div>
</div>
</div>
</div>
<div class="inherited-list">
<h3 id="methods-inherited-from-class-java.lang.Object">Methods inherited from class&nbsp;java.lang.<a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/Object.html" title="class or interface in java.lang" class="external-link">Object</a></h3>
<code><a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/Object.html#clone()" title="class or interface in java.lang" class="external-link">clone</a>, <a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/Object.html#equals(java.lang.Object)" title="class or interface in java.lang" class="external-link">equals</a>, <a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/Object.html#finalize()" title="class or interface in java.lang" class="external-link">finalize</a>, <a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/Object.html#getClass()" title="class or interface in java.lang" class="external-link">getClass</a>, <a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/Object.html#hashCode()" title="class or interface in java.lang" class="external-link">hashCode</a>, <a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/Object.html#notify()" title="class or interface in java.lang" class="external-link">notify</a>, <a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/Object.html#notifyAll()" title="class or interface in java.lang" class="external-link">notifyAll</a>, <a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/Object.html#toString()" title="class or interface in java.lang" class="external-link">toString</a>, <a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/Object.html#wait()" title="class or interface in java.lang" class="external-link">wait</a>, <a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/Object.html#wait(long)" title="class or interface in java.lang" class="external-link">wait</a>, <a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/Object.html#wait(long,int)" title="class or interface in java.lang" class="external-link">wait</a></code></div>
<div class="inherited-list">
<h3 id="methods-inherited-from-class-org.apache.commons.collections4.bloomfilter.BitMapExtractor">Methods inherited from interface&nbsp;org.apache.commons.collections4.bloomfilter.<a href="BitMapExtractor.html" title="interface in org.apache.commons.collections4.bloomfilter">BitMapExtractor</a></h3>
<code><a href="BitMapExtractor.html#asBitMapArray()">asBitMapArray</a>, <a href="BitMapExtractor.html#processBitMapPairs(org.apache.commons.collections4.bloomfilter.BitMapExtractor,org.apache.commons.collections4.bloomfilter.LongBiPredicate)">processBitMapPairs</a></code></div>
<div class="inherited-list">
<h3 id="methods-inherited-from-class-org.apache.commons.collections4.bloomfilter.BloomFilter">Methods inherited from interface&nbsp;org.apache.commons.collections4.bloomfilter.<a href="BloomFilter.html" title="interface in org.apache.commons.collections4.bloomfilter">BloomFilter</a></h3>
<code><a href="BloomFilter.html#estimateIntersection(org.apache.commons.collections4.bloomfilter.BloomFilter)">estimateIntersection</a>, <a href="BloomFilter.html#isFull()">isFull</a>, <a href="BloomFilter.html#merge(org.apache.commons.collections4.bloomfilter.Hasher)">merge</a>, <a href="BloomFilter.html#uniqueIndices()">uniqueIndices</a></code></div>
<div class="inherited-list">
<h3 id="methods-inherited-from-class-org.apache.commons.collections4.bloomfilter.BloomFilterExtractor">Methods inherited from interface&nbsp;org.apache.commons.collections4.bloomfilter.<a href="BloomFilterExtractor.html" title="interface in org.apache.commons.collections4.bloomfilter">BloomFilterExtractor</a></h3>
<code><a href="BloomFilterExtractor.html#asBloomFilterArray()">asBloomFilterArray</a>, <a href="BloomFilterExtractor.html#processBloomFilterPair(org.apache.commons.collections4.bloomfilter.BloomFilterExtractor,java.util.function.BiPredicate)">processBloomFilterPair</a></code></div>
<div class="inherited-list">
<h3 id="methods-inherited-from-class-org.apache.commons.collections4.bloomfilter.IndexExtractor">Methods inherited from interface&nbsp;org.apache.commons.collections4.bloomfilter.<a href="IndexExtractor.html" title="interface in org.apache.commons.collections4.bloomfilter">IndexExtractor</a></h3>
<code><a href="IndexExtractor.html#asIndexArray()">asIndexArray</a></code></div>
</section>
</li>
</ul>
</section>
<section class="details">
<ul class="details-list">
<!-- ========= CONSTRUCTOR DETAIL ======== -->
<li>
<section class="constructor-details" id="constructor-detail">
<h2>Constructor Details</h2>
<ul class="member-list">
<li>
<section class="detail" id="&lt;init&gt;(org.apache.commons.collections4.bloomfilter.Shape,org.apache.commons.collections4.bloomfilter.LayerManager)">
<h3>LayeredBloomFilter</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="element-name"><a href="../../../../../src-html/org/apache/commons/collections4/bloomfilter/LayeredBloomFilter.html#line-103">LayeredBloomFilter</a></span><wbr><span class="parameters">(<a href="Shape.html" title="class in org.apache.commons.collections4.bloomfilter">Shape</a>&nbsp;shape,
 <a href="LayerManager.html" title="class in org.apache.commons.collections4.bloomfilter">LayerManager</a>&lt;<a href="LayeredBloomFilter.html" title="type parameter in LayeredBloomFilter">T</a>&gt;&nbsp;layerManager)</span></div>
<div class="block">Constructor.</div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>shape</code> - the Shape of the enclosed Bloom filters</dd>
<dd><code>layerManager</code> - the LayerManager to manage the layers.</dd>
</dl>
</section>
</li>
</ul>
</section>
</li>
<!-- ============ METHOD DETAIL ========== -->
<li>
<section class="method-details" id="method-detail">
<h2>Method Details</h2>
<ul class="member-list">
<li>
<section class="detail" id="cardinality()">
<h3>cardinality</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type">int</span>&nbsp;<span class="element-name"><a href="../../../../../src-html/org/apache/commons/collections4/bloomfilter/LayeredBloomFilter.html#line-108">cardinality</a></span>()</div>
<div class="block"><span class="descfrm-type-label">Description copied from interface:&nbsp;<code><a href="BloomFilter.html#cardinality()">BloomFilter</a></code></span></div>
<div class="block">Gets the cardinality (number of enabled bits) of this Bloom filter.

 <p>This is also known as the Hamming value or Hamming number.</p></div>
<dl class="notes">
<dt>Specified by:</dt>
<dd><code><a href="BloomFilter.html#cardinality()">cardinality</a></code>&nbsp;in interface&nbsp;<code><a href="BloomFilter.html" title="interface in org.apache.commons.collections4.bloomfilter">BloomFilter</a></code></dd>
<dt>Returns:</dt>
<dd>the cardinality of this filter</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="characteristics()">
<h3>characteristics</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type">int</span>&nbsp;<span class="element-name"><a href="../../../../../src-html/org/apache/commons/collections4/bloomfilter/LayeredBloomFilter.html#line-113">characteristics</a></span>()</div>
<div class="block"><span class="descfrm-type-label">Description copied from interface:&nbsp;<code><a href="BloomFilter.html#characteristics()">BloomFilter</a></code></span></div>
<div class="block">Returns the characteristics of the filter.
 <p>
 Characteristics are defined as bits within the characteristics integer.</div>
<dl class="notes">
<dt>Specified by:</dt>
<dd><code><a href="BloomFilter.html#characteristics()">characteristics</a></code>&nbsp;in interface&nbsp;<code><a href="BloomFilter.html" title="interface in org.apache.commons.collections4.bloomfilter">BloomFilter</a></code></dd>
<dt>Returns:</dt>
<dd>the characteristics for this bloom filter.</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="cleanup()">
<h3>cleanup</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type">void</span>&nbsp;<span class="element-name"><a href="../../../../../src-html/org/apache/commons/collections4/bloomfilter/LayeredBloomFilter.html#line-124">cleanup</a></span>()</div>
<div class="block">Forces the execution of the cleanup Consumer that was provided when the associated LayerManager
 was built.</div>
<dl class="notes">
<dt>See Also:</dt>
<dd>
<ul class="see-list-long">
<li><a href="LayerManager.Builder.html#setCleanup(java.util.function.Consumer)"><code>LayerManager.Builder.setCleanup(java.util.function.Consumer)</code></a></li>
</ul>
</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="clear()">
<h3>clear</h3>
<div class="member-signature"><span class="modifiers">public final</span>&nbsp;<span class="return-type">void</span>&nbsp;<span class="element-name"><a href="../../../../../src-html/org/apache/commons/collections4/bloomfilter/LayeredBloomFilter.html#line-128">clear</a></span>()</div>
<div class="block"><span class="descfrm-type-label">Description copied from interface:&nbsp;<code><a href="BloomFilter.html#clear()">BloomFilter</a></code></span></div>
<div class="block">Resets the filter to its initial, unpopulated state.</div>
<dl class="notes">
<dt>Specified by:</dt>
<dd><code><a href="BloomFilter.html#clear()">clear</a></code>&nbsp;in interface&nbsp;<code><a href="BloomFilter.html" title="interface in org.apache.commons.collections4.bloomfilter">BloomFilter</a></code></dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="contains(org.apache.commons.collections4.bloomfilter.BitMapExtractor)">
<h3>contains</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type">boolean</span>&nbsp;<span class="element-name"><a href="../../../../../src-html/org/apache/commons/collections4/bloomfilter/LayeredBloomFilter.html#line-133">contains</a></span><wbr><span class="parameters">(<a href="BitMapExtractor.html" title="interface in org.apache.commons.collections4.bloomfilter">BitMapExtractor</a>&nbsp;bitMapExtractor)</span></div>
<div class="block"><span class="descfrm-type-label">Description copied from interface:&nbsp;<code><a href="BloomFilter.html#contains(org.apache.commons.collections4.bloomfilter.BitMapExtractor)">BloomFilter</a></code></span></div>
<div class="block">Returns <code>true</code> if this filter contains the bits specified in the bit maps produced by the
 bitMapExtractor.</div>
<dl class="notes">
<dt>Specified by:</dt>
<dd><code><a href="BloomFilter.html#contains(org.apache.commons.collections4.bloomfilter.BitMapExtractor)">contains</a></code>&nbsp;in interface&nbsp;<code><a href="BloomFilter.html" title="interface in org.apache.commons.collections4.bloomfilter">BloomFilter</a></code></dd>
<dt>Parameters:</dt>
<dd><code>bitMapExtractor</code> - the <code>BitMapExtractor</code> to provide the bit maps.</dd>
<dt>Returns:</dt>
<dd><code>true</code> if this filter is enabled for all bits specified by the bit maps</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="contains(org.apache.commons.collections4.bloomfilter.BloomFilter)">
<h3>contains</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type">boolean</span>&nbsp;<span class="element-name"><a href="../../../../../src-html/org/apache/commons/collections4/bloomfilter/LayeredBloomFilter.html#line-149">contains</a></span><wbr><span class="parameters">(<a href="BloomFilter.html" title="interface in org.apache.commons.collections4.bloomfilter">BloomFilter</a>&nbsp;other)</span></div>
<div class="block">Returns <code>true</code> if this any layer contained by this filter contains the
 specified filter.
 <p>
 If the <code>other</code> is a BloomFilterExtractor each filter within the
 <code>other</code> is checked to see if it exits within this filter.
 </p></div>
<dl class="notes">
<dt>Specified by:</dt>
<dd><code><a href="BloomFilter.html#contains(org.apache.commons.collections4.bloomfilter.BloomFilter)">contains</a></code>&nbsp;in interface&nbsp;<code><a href="BloomFilter.html" title="interface in org.apache.commons.collections4.bloomfilter">BloomFilter</a></code></dd>
<dt>Parameters:</dt>
<dd><code>other</code> - the other Bloom filter</dd>
<dt>Returns:</dt>
<dd><code>true</code> if this filter contains the other filter.</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="contains(org.apache.commons.collections4.bloomfilter.BloomFilterExtractor)">
<h3>contains</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type">boolean</span>&nbsp;<span class="element-name"><a href="../../../../../src-html/org/apache/commons/collections4/bloomfilter/LayeredBloomFilter.html#line-164">contains</a></span><wbr><span class="parameters">(<a href="BloomFilterExtractor.html" title="interface in org.apache.commons.collections4.bloomfilter">BloomFilterExtractor</a>&nbsp;bloomFilterExtractor)</span></div>
<div class="block">Returns <code>true</code> if each filter within the <code>bloomFilterExtractor</code> exits within
 this filter.</div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>bloomFilterExtractor</code> - the BloomFilterExtractor that provides the filters to check
                 for.</dd>
<dt>Returns:</dt>
<dd><code>true</code> if this filter contains all of the filters contained in
         the <code>bloomFilterExtractor</code>.</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="contains(org.apache.commons.collections4.bloomfilter.Hasher)">
<h3>contains</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type">boolean</span>&nbsp;<span class="element-name"><a href="../../../../../src-html/org/apache/commons/collections4/bloomfilter/LayeredBloomFilter.html#line-173">contains</a></span><wbr><span class="parameters">(<a href="Hasher.html" title="interface in org.apache.commons.collections4.bloomfilter">Hasher</a>&nbsp;hasher)</span></div>
<div class="block"><span class="descfrm-type-label">Description copied from interface:&nbsp;<code><a href="BloomFilter.html#contains(org.apache.commons.collections4.bloomfilter.Hasher)">BloomFilter</a></code></span></div>
<div class="block">Returns <code>true</code> if this filter contains the bits specified in the hasher.

 <p>Specifically this returns <code>true</code> if this filter is enabled for all bit indexes
 identified by the <code>hasher</code>. Using the bit map representations this is
 effectively <code>(this AND hasher) == hasher</code>.</p></div>
<dl class="notes">
<dt>Specified by:</dt>
<dd><code><a href="BloomFilter.html#contains(org.apache.commons.collections4.bloomfilter.Hasher)">contains</a></code>&nbsp;in interface&nbsp;<code><a href="BloomFilter.html" title="interface in org.apache.commons.collections4.bloomfilter">BloomFilter</a></code></dd>
<dt>Parameters:</dt>
<dd><code>hasher</code> - the hasher to provide the indexes</dd>
<dt>Returns:</dt>
<dd>true if this filter is enabled for all bits specified by the hasher</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="contains(org.apache.commons.collections4.bloomfilter.IndexExtractor)">
<h3>contains</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type">boolean</span>&nbsp;<span class="element-name"><a href="../../../../../src-html/org/apache/commons/collections4/bloomfilter/LayeredBloomFilter.html#line-178">contains</a></span><wbr><span class="parameters">(<a href="IndexExtractor.html" title="interface in org.apache.commons.collections4.bloomfilter">IndexExtractor</a>&nbsp;indexExtractor)</span></div>
<div class="block"><span class="descfrm-type-label">Description copied from interface:&nbsp;<code><a href="BloomFilter.html#contains(org.apache.commons.collections4.bloomfilter.IndexExtractor)">BloomFilter</a></code></span></div>
<div class="block">Returns <code>true</code> if this filter contains the indices specified IndexExtractor.

 <p>Specifically this returns <code>true</code> if this filter is enabled for all bit indexes
 identified by the <code>IndexExtractor</code>.</p></div>
<dl class="notes">
<dt>Specified by:</dt>
<dd><code><a href="BloomFilter.html#contains(org.apache.commons.collections4.bloomfilter.IndexExtractor)">contains</a></code>&nbsp;in interface&nbsp;<code><a href="BloomFilter.html" title="interface in org.apache.commons.collections4.bloomfilter">BloomFilter</a></code></dd>
<dt>Parameters:</dt>
<dd><code>indexExtractor</code> - the IndexExtractor to provide the indexes</dd>
<dt>Returns:</dt>
<dd><code>true</code> if this filter is enabled for all bits specified by the IndexExtractor</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="copy()">
<h3>copy</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type"><a href="LayeredBloomFilter.html" title="class in org.apache.commons.collections4.bloomfilter">LayeredBloomFilter</a>&lt;<a href="LayeredBloomFilter.html" title="type parameter in LayeredBloomFilter">T</a>&gt;</span>&nbsp;<span class="element-name"><a href="../../../../../src-html/org/apache/commons/collections4/bloomfilter/LayeredBloomFilter.html#line-183">copy</a></span>()</div>
<div class="block"><span class="descfrm-type-label">Description copied from interface:&nbsp;<code><a href="BloomFilter.html#copy()">BloomFilter</a></code></span></div>
<div class="block">Creates a new instance of the BloomFilter with the same properties as the current one.</div>
<dl class="notes">
<dt>Specified by:</dt>
<dd><code><a href="BloomFilter.html#copy()">copy</a></code>&nbsp;in interface&nbsp;<code><a href="BloomFilter.html" title="interface in org.apache.commons.collections4.bloomfilter">BloomFilter</a></code></dd>
<dt>Returns:</dt>
<dd>a copy of this BloomFilter</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="estimateN()">
<h3>estimateN</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type">int</span>&nbsp;<span class="element-name"><a href="../../../../../src-html/org/apache/commons/collections4/bloomfilter/LayeredBloomFilter.html#line-224">estimateN</a></span>()</div>
<div class="block"><span class="descfrm-type-label">Description copied from interface:&nbsp;<code><a href="BloomFilter.html#estimateN()">BloomFilter</a></code></span></div>
<div class="block">Estimates the number of items in the Bloom filter.

 <p>By default this is the rounding of the <code>Shape.estimateN(cardinality)</code> calculation for the
 shape and cardinality of this filter.</p>

 <p>This produces an estimate roughly equivalent to the number of Hashers that have been merged into the filter
 by rounding the value from the calculation described in the <a href="Shape.html" title="class in org.apache.commons.collections4.bloomfilter"><code>Shape</code></a> class Javadoc.</p>

 <p><em>Note:</em></p>
 <ul>
 <li>if cardinality == numberOfBits, then result is Integer.MAX_VALUE.</li>
 <li>if cardinality &gt; numberOfBits, then an IllegalArgumentException is thrown.</li>
 </ul></div>
<dl class="notes">
<dt>Specified by:</dt>
<dd><code><a href="BloomFilter.html#estimateN()">estimateN</a></code>&nbsp;in interface&nbsp;<code><a href="BloomFilter.html" title="interface in org.apache.commons.collections4.bloomfilter">BloomFilter</a></code></dd>
<dt>Returns:</dt>
<dd>an estimate of the number of items in the bloom filter.  Will return Integer.MAX_VALUE if the
 estimate is larger than Integer.MAX_VALUE.</dd>
<dt>See Also:</dt>
<dd>
<ul class="see-list">
<li><a href="Shape.html#estimateN(int)"><code>Shape.estimateN(int)</code></a></li>
<li><a href="Shape.html" title="class in org.apache.commons.collections4.bloomfilter"><code>Shape</code></a></li>
</ul>
</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="estimateUnion(org.apache.commons.collections4.bloomfilter.BloomFilter)">
<h3>estimateUnion</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type">int</span>&nbsp;<span class="element-name"><a href="../../../../../src-html/org/apache/commons/collections4/bloomfilter/LayeredBloomFilter.html#line-229">estimateUnion</a></span><wbr><span class="parameters">(<a href="BloomFilter.html" title="interface in org.apache.commons.collections4.bloomfilter">BloomFilter</a>&nbsp;other)</span></div>
<div class="block"><span class="descfrm-type-label">Description copied from interface:&nbsp;<code><a href="BloomFilter.html#estimateUnion(org.apache.commons.collections4.bloomfilter.BloomFilter)">BloomFilter</a></code></span></div>
<div class="block">Estimates the number of items in the union of this Bloom filter with the other bloom filter.

 <p>This produces an estimate roughly equivalent to the number of unique Hashers that have been merged into either
 of the filters by rounding the value from the calculation described in the <a href="Shape.html" title="class in org.apache.commons.collections4.bloomfilter"><code>Shape</code></a> class Javadoc.</p>

 <p><em><code>estimateUnion</code> should only be called with Bloom filters of the same Shape.  If called on Bloom
 filters of differing shape this method is not symmetric. If <code>other</code> has more bits an <code>IllegalArgumentException</code>
 may be thrown.</em></p></div>
<dl class="notes">
<dt>Specified by:</dt>
<dd><code><a href="BloomFilter.html#estimateUnion(org.apache.commons.collections4.bloomfilter.BloomFilter)">estimateUnion</a></code>&nbsp;in interface&nbsp;<code><a href="BloomFilter.html" title="interface in org.apache.commons.collections4.bloomfilter">BloomFilter</a></code></dd>
<dt>Parameters:</dt>
<dd><code>other</code> - The other Bloom filter</dd>
<dt>Returns:</dt>
<dd>an estimate of the number of items in the union.  Will return Integer.MAX_VALUE if the
 estimate is larger than Integer.MAX_VALUE.</dd>
<dt>See Also:</dt>
<dd>
<ul class="see-list">
<li><a href="BloomFilter.html#estimateN()"><code>BloomFilter.estimateN()</code></a></li>
<li><a href="Shape.html" title="class in org.apache.commons.collections4.bloomfilter"><code>Shape</code></a></li>
</ul>
</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="find(org.apache.commons.collections4.bloomfilter.BitMapExtractor)">
<h3>find</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type">int[]</span>&nbsp;<span class="element-name"><a href="../../../../../src-html/org/apache/commons/collections4/bloomfilter/LayeredBloomFilter.html#line-243">find</a></span><wbr><span class="parameters">(<a href="BitMapExtractor.html" title="interface in org.apache.commons.collections4.bloomfilter">BitMapExtractor</a>&nbsp;bitMapExtractor)</span></div>
<div class="block">Finds the layers in which the BitMapExtractor is found.</div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>bitMapExtractor</code> - the BitMapExtractor to search for.</dd>
<dt>Returns:</dt>
<dd>an array of layer indices in which the Bloom filter is found.</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="find(org.apache.commons.collections4.bloomfilter.BloomFilter)">
<h3>find</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type">int[]</span>&nbsp;<span class="element-name"><a href="../../../../../src-html/org/apache/commons/collections4/bloomfilter/LayeredBloomFilter.html#line-255">find</a></span><wbr><span class="parameters">(<a href="BloomFilter.html" title="interface in org.apache.commons.collections4.bloomfilter">BloomFilter</a>&nbsp;bf)</span></div>
<div class="block">Finds the layers in which the Bloom filter is found.</div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>bf</code> - the Bloom filter to search for.</dd>
<dt>Returns:</dt>
<dd>an array of layer indices in which the Bloom filter is found.</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="find(org.apache.commons.collections4.bloomfilter.Hasher)">
<h3>find</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type">int[]</span>&nbsp;<span class="element-name"><a href="../../../../../src-html/org/apache/commons/collections4/bloomfilter/LayeredBloomFilter.html#line-267">find</a></span><wbr><span class="parameters">(<a href="Hasher.html" title="interface in org.apache.commons.collections4.bloomfilter">Hasher</a>&nbsp;hasher)</span></div>
<div class="block">Finds the layers in which the Hasher is found.</div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>hasher</code> - the Hasher to search for.</dd>
<dt>Returns:</dt>
<dd>an array of layer indices in which the Bloom filter is found.</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="find(org.apache.commons.collections4.bloomfilter.IndexExtractor)">
<h3>find</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type">int[]</span>&nbsp;<span class="element-name"><a href="../../../../../src-html/org/apache/commons/collections4/bloomfilter/LayeredBloomFilter.html#line-279">find</a></span><wbr><span class="parameters">(<a href="IndexExtractor.html" title="interface in org.apache.commons.collections4.bloomfilter">IndexExtractor</a>&nbsp;indexExtractor)</span></div>
<div class="block">Finds the layers in which the IndexExtractor is found.</div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>indexExtractor</code> - the Index extractor to search for.</dd>
<dt>Returns:</dt>
<dd>an array of layer indices in which the Bloom filter is found.</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="flatten()">
<h3>flatten</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type"><a href="BloomFilter.html" title="interface in org.apache.commons.collections4.bloomfilter">BloomFilter</a></span>&nbsp;<span class="element-name"><a href="../../../../../src-html/org/apache/commons/collections4/bloomfilter/LayeredBloomFilter.html#line-291">flatten</a></span>()</div>
<div class="block">Create a standard (non-layered) Bloom filter by merging all of the layers. If
 the filter is empty this method will return an empty Bloom filter.</div>
<dl class="notes">
<dt>Specified by:</dt>
<dd><code><a href="BloomFilterExtractor.html#flatten()">flatten</a></code>&nbsp;in interface&nbsp;<code><a href="BloomFilterExtractor.html" title="interface in org.apache.commons.collections4.bloomfilter">BloomFilterExtractor</a></code></dd>
<dt>Returns:</dt>
<dd>the merged bloom filter.</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="processBitMaps(java.util.function.LongPredicate)">
<h3>processBitMaps</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type">boolean</span>&nbsp;<span class="element-name"><a href="../../../../../src-html/org/apache/commons/collections4/bloomfilter/LayeredBloomFilter.html#line-298">processBitMaps</a></span><wbr><span class="parameters">(<a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/util/function/LongPredicate.html" title="class or interface in java.util.function" class="external-link">LongPredicate</a>&nbsp;predicate)</span></div>
<div class="block"><span class="descfrm-type-label">Description copied from interface:&nbsp;<code><a href="BitMapExtractor.html#processBitMaps(java.util.function.LongPredicate)">BitMapExtractor</a></code></span></div>
<div class="block">Each bit map is passed to the predicate in order. The predicate is applied to each
 bit map value, if the predicate returns <code>false</code> the execution is stopped, <code>false</code>
 is returned, and no further bit maps are processed.

 <p>If the extractor is empty this method will return true.</p>

 <p>Any exceptions thrown by the action are relayed to the caller.</p></div>
<dl class="notes">
<dt>Specified by:</dt>
<dd><code><a href="BitMapExtractor.html#processBitMaps(java.util.function.LongPredicate)">processBitMaps</a></code>&nbsp;in interface&nbsp;<code><a href="BitMapExtractor.html" title="interface in org.apache.commons.collections4.bloomfilter">BitMapExtractor</a></code></dd>
<dt>Parameters:</dt>
<dd><code>predicate</code> - the function to execute</dd>
<dt>Returns:</dt>
<dd><code>true</code> if all bit maps returned <code>true</code>, <code>false</code> otherwise.</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="processBloomFilters(java.util.function.Predicate)">
<h3>processBloomFilters</h3>
<div class="member-signature"><span class="modifiers">public final</span>&nbsp;<span class="return-type">boolean</span>&nbsp;<span class="element-name"><a href="../../../../../src-html/org/apache/commons/collections4/bloomfilter/LayeredBloomFilter.html#line-312">processBloomFilters</a></span><wbr><span class="parameters">(<a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/util/function/Predicate.html" title="class or interface in java.util.function" class="external-link">Predicate</a>&lt;<a href="BloomFilter.html" title="interface in org.apache.commons.collections4.bloomfilter">BloomFilter</a>&gt;&nbsp;bloomFilterPredicate)</span></div>
<div class="block">Processes the Bloom filters in depth order with the most recent filters
 first. Each filter is passed to the predicate in turn. The function exits on
 the first <code>false</code> returned by the predicate.</div>
<dl class="notes">
<dt>Specified by:</dt>
<dd><code><a href="BloomFilterExtractor.html#processBloomFilters(java.util.function.Predicate)">processBloomFilters</a></code>&nbsp;in interface&nbsp;<code><a href="BloomFilterExtractor.html" title="interface in org.apache.commons.collections4.bloomfilter">BloomFilterExtractor</a></code></dd>
<dt>Parameters:</dt>
<dd><code>bloomFilterPredicate</code> - the predicate to execute.</dd>
<dt>Returns:</dt>
<dd><code>true</code> if all filters passed the predicate, <code>false</code>
         otherwise.</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="processIndices(java.util.function.IntPredicate)">
<h3>processIndices</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type">boolean</span>&nbsp;<span class="element-name"><a href="../../../../../src-html/org/apache/commons/collections4/bloomfilter/LayeredBloomFilter.html#line-317">processIndices</a></span><wbr><span class="parameters">(<a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/util/function/IntPredicate.html" title="class or interface in java.util.function" class="external-link">IntPredicate</a>&nbsp;predicate)</span></div>
<div class="block"><span class="descfrm-type-label">Description copied from interface:&nbsp;<code><a href="IndexExtractor.html#processIndices(java.util.function.IntPredicate)">IndexExtractor</a></code></span></div>
<div class="block">Each index is passed to the predicate. The predicate is applied to each
 index value, if the predicate returns <code>false</code> the execution is stopped, <code>false</code>
 is returned, and no further indices are processed.

 <p>Any exceptions thrown by the action are relayed to the caller.</p>

 <p>Indices ordering and uniqueness is not guaranteed.</p></div>
<dl class="notes">
<dt>Specified by:</dt>
<dd><code><a href="IndexExtractor.html#processIndices(java.util.function.IntPredicate)">processIndices</a></code>&nbsp;in interface&nbsp;<code><a href="IndexExtractor.html" title="interface in org.apache.commons.collections4.bloomfilter">IndexExtractor</a></code></dd>
<dt>Parameters:</dt>
<dd><code>predicate</code> - the action to be performed for each non-zero bit index.</dd>
<dt>Returns:</dt>
<dd><code>true</code> if all indexes return true from consumer, <code>false</code> otherwise.</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="get(int)">
<h3>get</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type"><a href="LayeredBloomFilter.html" title="type parameter in LayeredBloomFilter">T</a></span>&nbsp;<span class="element-name"><a href="../../../../../src-html/org/apache/commons/collections4/bloomfilter/LayeredBloomFilter.html#line-329">get</a></span><wbr><span class="parameters">(int&nbsp;depth)</span></div>
<div class="block">Gets the Bloom filter at the specified depth</div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>depth</code> - the depth of the filter to return.</dd>
<dt>Returns:</dt>
<dd>the Bloom filter at the specified depth.</dd>
<dt>Throws:</dt>
<dd><code><a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/util/NoSuchElementException.html" title="class or interface in java.util" class="external-link">NoSuchElementException</a></code> - if depth is not in the range [0,getDepth())</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="getDepth()">
<h3>getDepth</h3>
<div class="member-signature"><span class="modifiers">public final</span>&nbsp;<span class="return-type">int</span>&nbsp;<span class="element-name"><a href="../../../../../src-html/org/apache/commons/collections4/bloomfilter/LayeredBloomFilter.html#line-339">getDepth</a></span>()</div>
<div class="block">Gets the depth of the deepest layer. The minimum value returned by this
 method is 1.</div>
<dl class="notes">
<dt>Returns:</dt>
<dd>the depth of the deepest layer.</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="getShape()">
<h3>getShape</h3>
<div class="member-signature"><span class="modifiers">public final</span>&nbsp;<span class="return-type"><a href="Shape.html" title="class in org.apache.commons.collections4.bloomfilter">Shape</a></span>&nbsp;<span class="element-name"><a href="../../../../../src-html/org/apache/commons/collections4/bloomfilter/LayeredBloomFilter.html#line-343">getShape</a></span>()</div>
<div class="block"><span class="descfrm-type-label">Description copied from interface:&nbsp;<code><a href="BloomFilter.html#getShape()">BloomFilter</a></code></span></div>
<div class="block">Gets the shape that was used when the filter was built.</div>
<dl class="notes">
<dt>Specified by:</dt>
<dd><code><a href="BloomFilter.html#getShape()">getShape</a></code>&nbsp;in interface&nbsp;<code><a href="BloomFilter.html" title="interface in org.apache.commons.collections4.bloomfilter">BloomFilter</a></code></dd>
<dt>Returns:</dt>
<dd>The shape the filter was built with.</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="isEmpty()">
<h3>isEmpty</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type">boolean</span>&nbsp;<span class="element-name"><a href="../../../../../src-html/org/apache/commons/collections4/bloomfilter/LayeredBloomFilter.html#line-348">isEmpty</a></span>()</div>
<div class="block"><span class="descfrm-type-label">Description copied from interface:&nbsp;<code><a href="BloomFilter.html#isEmpty()">BloomFilter</a></code></span></div>
<div class="block">Determines if all the bits are off. This is equivalent to
 <code>cardinality() == 0</code>.

 <p>
 <em>Note: This method is optimised for non-sparse filters.</em> Implementers
 are encouraged to implement faster checks if possible.
 </p></div>
<dl class="notes">
<dt>Specified by:</dt>
<dd><code><a href="BloomFilter.html#isEmpty()">isEmpty</a></code>&nbsp;in interface&nbsp;<code><a href="BloomFilter.html" title="interface in org.apache.commons.collections4.bloomfilter">BloomFilter</a></code></dd>
<dt>Returns:</dt>
<dd><code>true</code> if no bits are enabled, <code>false</code> otherwise.</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="merge(org.apache.commons.collections4.bloomfilter.BitMapExtractor)">
<h3>merge</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type">boolean</span>&nbsp;<span class="element-name"><a href="../../../../../src-html/org/apache/commons/collections4/bloomfilter/LayeredBloomFilter.html#line-353">merge</a></span><wbr><span class="parameters">(<a href="BitMapExtractor.html" title="interface in org.apache.commons.collections4.bloomfilter">BitMapExtractor</a>&nbsp;bitMapExtractor)</span></div>
<div class="block"><span class="descfrm-type-label">Description copied from interface:&nbsp;<code><a href="BloomFilter.html#merge(org.apache.commons.collections4.bloomfilter.BitMapExtractor)">BloomFilter</a></code></span></div>
<div class="block">Merges the specified hasher into this Bloom filter. Specifically all
 bit indexes that are identified by the <code>bitMapExtractor</code> will be enabled in this filter.

 <p><em>Note: This method should return <code>true</code> even if no additional bit indexes were
 enabled. A <code>false</code> result indicates that this filter may or may not contain all the indexes
 enabled in the <code>bitMapExtractor</code>.</em>  This state may occur in complex Bloom filter implementations like
 counting Bloom filters.</p></div>
<dl class="notes">
<dt>Specified by:</dt>
<dd><code><a href="BloomFilter.html#merge(org.apache.commons.collections4.bloomfilter.BitMapExtractor)">merge</a></code>&nbsp;in interface&nbsp;<code><a href="BloomFilter.html" title="interface in org.apache.commons.collections4.bloomfilter">BloomFilter</a></code></dd>
<dt>Parameters:</dt>
<dd><code>bitMapExtractor</code> - The BitMapExtractor to merge.</dd>
<dt>Returns:</dt>
<dd>true if the merge was successful</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="merge(org.apache.commons.collections4.bloomfilter.BloomFilter)">
<h3>merge</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type">boolean</span>&nbsp;<span class="element-name"><a href="../../../../../src-html/org/apache/commons/collections4/bloomfilter/LayeredBloomFilter.html#line-358">merge</a></span><wbr><span class="parameters">(<a href="BloomFilter.html" title="interface in org.apache.commons.collections4.bloomfilter">BloomFilter</a>&nbsp;bf)</span></div>
<div class="block"><span class="descfrm-type-label">Description copied from interface:&nbsp;<code><a href="BloomFilter.html#merge(org.apache.commons.collections4.bloomfilter.BloomFilter)">BloomFilter</a></code></span></div>
<div class="block">Merges the specified Bloom filter into this Bloom filter.

 <p>Specifically all
 bit indexes that are identified by the <code>other</code> will be enabled in this filter.</p>

 <p><em>Note: This method should return <code>true</code> even if no additional bit indexes were
 enabled. A <code>false</code> result indicates that this filter may or may not contain
 the <code>other</code> Bloom filter.</em>  This state may occur in complex Bloom filter implementations like
 counting Bloom filters.</p></div>
<dl class="notes">
<dt>Specified by:</dt>
<dd><code><a href="BloomFilter.html#merge(org.apache.commons.collections4.bloomfilter.BloomFilter)">merge</a></code>&nbsp;in interface&nbsp;<code><a href="BloomFilter.html" title="interface in org.apache.commons.collections4.bloomfilter">BloomFilter</a></code></dd>
<dt>Parameters:</dt>
<dd><code>bf</code> - The bloom filter to merge into this one.</dd>
<dt>Returns:</dt>
<dd>true if the merge was successful</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="merge(org.apache.commons.collections4.bloomfilter.IndexExtractor)">
<h3>merge</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type">boolean</span>&nbsp;<span class="element-name"><a href="../../../../../src-html/org/apache/commons/collections4/bloomfilter/LayeredBloomFilter.html#line-363">merge</a></span><wbr><span class="parameters">(<a href="IndexExtractor.html" title="interface in org.apache.commons.collections4.bloomfilter">IndexExtractor</a>&nbsp;indexExtractor)</span></div>
<div class="block"><span class="descfrm-type-label">Description copied from interface:&nbsp;<code><a href="BloomFilter.html#merge(org.apache.commons.collections4.bloomfilter.IndexExtractor)">BloomFilter</a></code></span></div>
<div class="block">Merges the specified IndexExtractor into this Bloom filter. Specifically all
 bit indexes that are identified by the <code>indexExtractor</code> will be enabled in this filter.

 <p><em>Note: This method should return <code>true</code> even if no additional bit indexes were
 enabled. A <code>false</code> result indicates that this filter may or may not contain all the indexes of
 the <code>indexExtractor</code>.</em>  This state may occur in complex Bloom filter implementations like
 counting Bloom filters.</p></div>
<dl class="notes">
<dt>Specified by:</dt>
<dd><code><a href="BloomFilter.html#merge(org.apache.commons.collections4.bloomfilter.IndexExtractor)">merge</a></code>&nbsp;in interface&nbsp;<code><a href="BloomFilter.html" title="interface in org.apache.commons.collections4.bloomfilter">BloomFilter</a></code></dd>
<dt>Parameters:</dt>
<dd><code>indexExtractor</code> - The IndexExtractor to merge.</dd>
<dt>Returns:</dt>
<dd>true if the merge was successful</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="next()">
<h3>next</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type">void</span>&nbsp;<span class="element-name"><a href="../../../../../src-html/org/apache/commons/collections4/bloomfilter/LayeredBloomFilter.html#line-376">next</a></span>()</div>
<div class="block">Forces and advance to the next layer. This method will clean-up the current
 layers and generate a new filter layer. In most cases is it unnecessary to
 call this method directly.</div>
<dl class="notes">
<dt>See Also:</dt>
<dd>
<ul class="see-list-long">
<li><a href="LayerManager.Builder.html#setCleanup(java.util.function.Consumer)"><code>LayerManager.Builder.setCleanup(java.util.function.Consumer)</code></a></li>
<li><a href="LayerManager.Builder.html#setExtendCheck(java.util.function.Predicate)"><code>LayerManager.Builder.setExtendCheck(Predicate)</code></a></li>
</ul>
</dd>
</dl>
</section>
</li>
</ul>
</section>
</li>
</ul>
</section>
<!-- ========= END OF CLASS DATA ========= -->
</main>
<footer role="contentinfo">
<hr>
<p class="legal-copy"><small>Copyright &#169; 2001&#x2013;2024 <a href="https://www.apache.org/">The Apache Software Foundation</a>. All rights reserved.</small></p>
</footer>
</div>
</div>
</body>
</html>
